{% extends 'base.html.twig' %}

{% block navigation %}
    
    <div class="navbar-fixed">
        <nav class="grey lighten-1">
            <div class="row">
                <div class="col s12">
                    <div class="col s3"><div class="grey submenu1">Sélection</div></div>
                    <div class="col s3"><div class="submenu2">Résumé</div></div>
                    <div class="col s3"><div class="submenu3">Paiement</div></div>
                    <div class="col s3"><div class="submenu4">Validation</div> </div>
                </div>
            </div>
        </nav>
    </div>
        
{% endblock %}

{% block tarifs %}
   
    <div class="part"> 
        <div class="row">
            <div class="col offset-s1 s10 grey lighten-2 z-depth-5">
                    <h4>Nos tarifs</h4>
                    <br/>                    
                      <table class="centered">
                        <thead>
                          <tr>
                              <th>Type de visite</th>
                              <th>Enfant</th>
                              <th>Normal</th>
                              <th>Sénior</th>
                              <th>Réduit</th>
                          </tr>
                        </thead>

                        <tbody>
                         <tr>
                             <th>Journée</th>
                            <td>{{ child_price }}€</td>
                            <td>{{ normal_price }}€</td>
                            <td>{{ senior_price }}€</td>
                            <td>{{ reduced_price }}€</td>
                         </tr>
                         <tr>
                             <th>Demi-journée</th>
                             <td>{{ child_price * half_price }}€</td>
                             <td>{{ normal_price * half_price }}€</td>
                             <td>{{ senior_price * half_price }}€</td>
                             <td>{{ reduced_price * half_price }}€</td>
                         </tr>
                         <tr>
                             <td></td>
                            <td>{{ children }}<br>(l’entrée est gratuite pour les enfants de moins de 4 ans)</td>
                            <td>{{ adult }}</td>
                            <td>{{ senior }}</td>
                            <td>{{ reduce }}<br>(étudiant, employé du musée, d’un service du Ministère de la Culture, militaire…)</td>
                         </tr>
                        </tbody>
                      </table>
            </div>
        </div>
    </div>

{% endblock %}


{% block form %}

    <div class="row">
        <div class="col offset-s2">
            <h3>Sélection de la visite</h3>
        </div>
    </div>

    {{ form_start(form, {'attr': {'novalidate': 'novalidate' } }) }}

    <div class="row">
        <div class="col offset-s2 s8 grey lighten-2 z-depth-5">
            <h4>1) Choix de la date</h4>
            <hr/>

            {#ajout d'un message lors de l'enregistrement ou la modification d'une commande#}
            {% for message in app.flashes('error') %}
                <div class="card-panel red lighten-4">
                    <div class="error">
                        <i class="material-icons left">close</i><p>{{ message }}</p>
                    </div>
                </div>
            {% endfor %}

            {{ form_errors(form.date) }}

            <p>Choisissez la date et l'heure de votre visite au Musée du Louvre :</p>
            <div class="col offset-s4 s4">

                {{ form_label(form.date) }}
                {{ form_widget(form.date, {
                    'attr': {'class': 'datepicker'},
                    })
                }}

            </div>
            <div class="col offset-s2 s8">
                <p>
                    Cochez le type de journée voulue :<br/>
                    {{ form_widget(form.type) }}
                </p>
                <p></p>
            </div>
        </div>
    </div>

    <br/>

    <div class="row">
        <div class="col offset-s2 s8 grey lighten-2 z-depth-5">
            <h4>2) Nombre de personnes</h4>
            {#<hr/><br/>#}
            {#<div class="row">#}
                {#<div class="input-field col offset-s4 s4">#}
                    {#<label for="nbBillet">Veuillez indiquer le nombre de billets souhaité</label>#}
                    {#<input type="number" id="nbBillet" min="0" max="10"/>#}
                {#</div>#}
            {#</div>#}

            <div class="row">
                <br/><hr/>
                <h5>Billet N°1</h5>
                <div class="col s12">

                    {{ form_label(form.tickets) }}
                    {{ form_widget(form.tickets) }}
                    {{ form_errors(form.tickets) }}

                </div>
            </div>

        </div>
    </div>

    <div class="row">
        <div class="col offset-s2 s8 grey lighten-2 z-depth-5">
            <h4>3) Coordonnées</h4>
            <hr/><br/>
            <div class="col s6">
                {{ form_row(form.prenom) }}
            </div>
            <div class="col s6">
                {{ form_row(form.nom) }}
            </div>
            <div class="col offset-s3 s6">
                {{ form_row(form.email) }}
            </div>
            <br/>
        </div>
    </div>


    {#{{ dump(form) }}#}

    <div class="row">
        <div class="col offset-s8 s2">
            <button class="btn waves-effect waves-light amber darken-2" type="submit">Commander<i class="material-icons right">send</i></button>
        </div>
    </div>

    {{ form_end(form)}}

{% endblock %}

